<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>6.3. Exercises: Unit Testing &#8212; Java Web Development  documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="6.4. Studio: Unit Testing" href="studio.html" />
    <link rel="prev" title="6.2. JUnit" href="junit.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>

  </head><body class="body-bc">

<div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
        </a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html"><span class="section-number">6. </span>Unit Testing</a></li>
    <li class="active"><span class="section-number">6.3. </span>Exercises: Unit Testing</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content " role="main">

    
  <div class="section" id="exercises-unit-testing">
<span id="unit-testing-exercises"></span><h1><span class="section-number">6.3. </span>Exercises: Unit Testing<a class="headerlink" href="#exercises-unit-testing" title="Permalink to this headline">¶</a></h1>
<p>Work on these exercises in the IntelliJ <code class="docutils literal notranslate"><span class="pre">java-web-dev-exercises</span></code>
project. You will update your <code class="docutils literal notranslate"><span class="pre">CarTest.java</span></code> file by adding
more test cases.</p>
<div class="section" id="testgastankafterdriving">
<h2><span class="section-number">6.3.1. </span><code class="docutils literal notranslate"><span class="pre">testGasTankAfterDriving()</span></code><a class="headerlink" href="#testgastankafterdriving" title="Permalink to this headline">¶</a></h2>
<p>Add a test for the third TODO, “gasTankLevel is accurate after driving within tank range”.</p>
<ol class="arabic">
<li><p class="first">Your test must use the <code class="docutils literal notranslate"><span class="pre">Car</span></code> method <code class="docutils literal notranslate"><span class="pre">drive()</span></code></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">test_car</span><span class="p">.</span><span class="na">drive</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">With a value of <code class="docutils literal notranslate"><span class="pre">50</span></code> miles passed into <code class="docutils literal notranslate"><span class="pre">drive()</span></code>, we expect
<code class="docutils literal notranslate"><span class="pre">test_car</span></code> to have a <code class="docutils literal notranslate"><span class="pre">gasTankLevel</span></code> of <code class="docutils literal notranslate"><span class="pre">9</span></code>.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">assertEquals</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">test_car</span><span class="p">.</span><span class="na">getGasTankLevel</span><span class="p">(),</span> <span class="mf">.001</span><span class="p">);</span>
</pre></div>
</div>
</li>
</ol>
<p><a class="reference internal" href="../../appendices/exercise-solutions/unit-testing.html#unit-testing-exercise-solutions1"><span class="std std-ref">Check your solution</span></a></p>
</div>
<div class="section" id="testgastankafterexceedingtankrange">
<h2><span class="section-number">6.3.2. </span><code class="docutils literal notranslate"><span class="pre">testGasTankAfterExceedingTankRange()</span></code><a class="headerlink" href="#testgastankafterexceedingtankrange" title="Permalink to this headline">¶</a></h2>
<p>Add a test for the fourth TODO, “gasTankLevel is accurate after attempting to drive past tank range”.</p>
<ol class="arabic simple">
<li>You’re on your own for this one. You’ll need to simulate the <code class="docutils literal notranslate"><span class="pre">Car</span></code>
travelling farther than it’s <code class="docutils literal notranslate"><span class="pre">gasTankLevel</span></code> allows.</li>
</ol>
<p><a class="reference internal" href="../../appendices/exercise-solutions/unit-testing.html#unit-testing-exercise-solutions2"><span class="std std-ref">Check your solution</span></a></p>
</div>
<div class="section" id="testgasoverfillexception">
<h2><span class="section-number">6.3.3. </span><code class="docutils literal notranslate"><span class="pre">testGasOverfillException()</span></code><a class="headerlink" href="#testgasoverfillexception" title="Permalink to this headline">¶</a></h2>
<p>The test for our last TODO is a little different. We are going to
perform an action on our car object, and we are expecting the object
to throw an error. In this case, we are going to attempt to add gas
to our car that exceeds the gas tank size.</p>
<ol class="arabic">
<li><p class="first">First, we’ll add some text to our <code class="docutils literal notranslate"><span class="pre">&#64;Test</span></code> annotation to tell JUnit
to expect an exception.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">//TODO: can&#39;t have more gas than tank size, expect an exception</span>
<span class="nd">@Test</span><span class="p">(</span><span class="n">expected</span> <span class="o">=</span> <span class="n">IllegalArgumentException</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGasOverfillException</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span>
</pre></div>
</div>
<p>This lets JUnit know that this test should pass if an
<code class="docutils literal notranslate"><span class="pre">IllegalArgumentException</span></code> is thrown at any point during this test.</p>
</li>
<li><p class="first">Update the <code class="docutils literal notranslate"><span class="pre">Car</span></code> class to include an <code class="docutils literal notranslate"><span class="pre">addGas()</span></code> method.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kt">void</span> <span class="nf">addGas</span><span class="p">(</span><span class="kt">double</span> <span class="n">gas</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="na">setGasTankLevel</span><span class="p">(</span><span class="n">gas</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="na">getGasTankLevel</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">Back in <code class="docutils literal notranslate"><span class="pre">CarTest</span></code>, implement the new <code class="docutils literal notranslate"><span class="pre">addGas()</span></code> method and a
<code class="docutils literal notranslate"><span class="pre">fail()</span></code> scenario.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">test_car</span><span class="p">.</span><span class="na">addGas</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="n">fail</span><span class="p">(</span><span class="s">&quot;Shouldn&#39;t get here, car cannot have more gas in tank than the size of the tank&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">fail()</span></code> message will be displayed if the test fails.
We have to import <code class="docutils literal notranslate"><span class="pre">fail</span></code> into this class to use it.</p>
</li>
<li><p class="first">Run the test. It should fail! In the output is an unexpected
exception. This test was expecting an <code class="docutils literal notranslate"><span class="pre">IllegalArgumentException</span></code>,
but it got an <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> exception. This caused the test
to fail. Further down in the output log, we can see that our
<code class="docutils literal notranslate"><span class="pre">fail()</span></code> statement printed out the statement about not being
able to add more gas than is possible.</p>
</li>
<li><p class="first">We need to refactor <code class="docutils literal notranslate"><span class="pre">Car</span></code> to throw an exception when too much
gas is added to the tank. Find the <code class="docutils literal notranslate"><span class="pre">setGasTankLevel</span></code> method and
modify it:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kt">void</span> <span class="nf">setGasTankLevel</span><span class="p">(</span><span class="kt">double</span> <span class="n">gasTankLevel</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">gasTankLevel</span> <span class="o">&gt;</span> <span class="k">this</span><span class="p">.</span><span class="na">getGasTankSize</span><span class="p">())</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;Can&#39;t exceed tank size&quot;</span><span class="p">);</span>
   <span class="p">}</span>
  <span class="k">this</span><span class="p">.</span><span class="na">gasTankLevel</span> <span class="o">=</span> <span class="n">gasTankLevel</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">Now, run the test - it should pass!</p>
</li>
</ol>
<p><a class="reference internal" href="../../appendices/exercise-solutions/unit-testing.html#unit-testing-exercise-solutions3"><span class="std std-ref">Check your solution</span></a></p>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="junit.html"><span aria-hidden="true">&larr;</span> <span class="section-number">6.2. </span>JUnit</a></li>
        
        
        <li class="next"><a href="studio.html"><span class="section-number">6.4. </span>Studio: Unit Testing <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../../_sources/chapters/unit-testing/exercises.rst.txt"
     rel="nofollow">Page Source</a>
</div>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>