<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>14.5. Exercises: Edit Model Classes &#8212; Java Web Development  documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="14.6. Studio: Spa User Signup" href="studio.html" />
    <link rel="prev" title="14.4. Model-Binding" href="model-binding.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>

  </head><body class="body-bc">

<div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
        </a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html"><span class="section-number">14. </span>Models and Model Binding</a></li>
    <li class="active"><span class="section-number">14.5. </span>Exercises: Edit Model Classes</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content " role="main">

    
  <div class="section" id="exercises-edit-model-classes">
<span id="model-classes-exercises"></span><h1><span class="section-number">14.5. </span>Exercises: Edit Model Classes<a class="headerlink" href="#exercises-edit-model-classes" title="Permalink to this headline">¶</a></h1>
<p>Add functionality to edit event objects in your <code class="docutils literal notranslate"><span class="pre">coding-events</span></code> application.
These exercises assume that you have added all of the code from this section of the book and your
application resembles the <a class="reference external" href="https://github.com/LaunchCodeEducation/coding-events/tree/model-binding" target="_blank">model-binding branch of coding-events-demo<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>.</p>
<p>Create a new branch from here with a descriptive name, such as <code class="docutils literal notranslate"><span class="pre">edit-events</span></code>. The edit form will resemble the form used to create an event.</p>
<div class="admonition-tip admonition">
<p class="admonition-title"><i class="fas fa-lightbulb" aria-hidden="true"></i>Tip</p>
<p>As you work through these steps, test your code along the way!
With each change you apply to your code, ask yourself what you expect to see when the application
is run. You may not find that all of the steps result in observable changes, though.
Use IntelliJ’s debugger and read your error messages if you run into issues after applying any of
the changes.</p>
</div>
<ol class="arabic">
<li><p>Create the two handler methods listed below in <code class="docutils literal notranslate"><span class="pre">EventController</span></code>. We’ll add code
to these in a moment, so just put the method outline in place for
now.</p>
<ol class="arabic">
<li><p>Create a method to display an edit form with this signature:</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="n">String</span> <span class="nf">displayEditForm</span><span class="p">(</span><span class="n">Model</span> <span class="n">model</span><span class="p">,</span> <span class="nd">@PathVariable</span> <span class="kt">int</span> <span class="n">eventId</span><span class="p">)</span> <span class="p">{</span>
   <span class="c1">// controller code will go here</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</li>
<li><p>Create a method to process the form with this signature:</p>
<div class="highlight-java notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="n">String</span> <span class="nf">processEditForm</span><span class="p">(</span><span class="kt">int</span> <span class="n">eventId</span><span class="p">,</span> <span class="n">String</span> <span class="n">name</span><span class="p">,</span> <span class="n">String</span> <span class="n">description</span><span class="p">)</span> <span class="p">{</span>
   <span class="c1">// controller code will go here</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</li>
</ol>
<p><a class="reference internal" href="../../appendices/exercise-solutions/spring-model-classes.html#model-classes-exercise-solutions1"><span class="std std-ref">Check your solution</span></a></p>
</li>
<li><p>Add the necessary annotations to these methods for them to both live
at the path <code class="docutils literal notranslate"><span class="pre">/events/edit</span></code>.</p>
<ol class="arabic simple">
<li><p>Judging by the names of the handlers, which should handle <code class="docutils literal notranslate"><span class="pre">GET</span></code> requests and which should
handle <code class="docutils literal notranslate"><span class="pre">POST</span></code> requests?</p></li>
<li><p>Remember, we’ve configured <code class="docutils literal notranslate"><span class="pre">&#64;RequestMapping</span></code> with a URL segment on the controller class already.</p></li>
<li><p>You’ll need to configure the route for <code class="docutils literal notranslate"><span class="pre">displayEditForm</span></code> to include the path variable <code class="docutils literal notranslate"><span class="pre">eventId</span></code>,
so that paths like <code class="docutils literal notranslate"><span class="pre">/events/edit/3</span></code> will work.</p></li>
</ol>
</li>
<li><p>Create an <code class="docutils literal notranslate"><span class="pre">edit.html</span></code> view template in
<code class="docutils literal notranslate"><span class="pre">resources/templates/events</span></code>.</p></li>
<li><p>Copy the code from <code class="docutils literal notranslate"><span class="pre">create.html</span></code> into <code class="docutils literal notranslate"><span class="pre">edit.html</span></code>.</p>
<ol class="arabic simple">
<li><p>You’ll want to update the text of the submit button to reflect the edit functionality.</p></li>
</ol>
</li>
<li><p>Back in the <code class="docutils literal notranslate"><span class="pre">displayEditForm</span></code> handler, round out the controller method.</p>
<ol class="arabic simple">
<li><p>Use an <code class="docutils literal notranslate"><span class="pre">EventData</span></code> method to find the event object with the given <code class="docutils literal notranslate"><span class="pre">eventId</span></code>.</p></li>
<li><p>Put the event object in the <code class="docutils literal notranslate"><span class="pre">model</span></code> with <code class="docutils literal notranslate"><span class="pre">.addAttribute()</span></code>.</p></li>
<li><p>Return the appropriate template string.</p></li>
</ol>
<p><a class="reference internal" href="../../appendices/exercise-solutions/spring-model-classes.html#model-classes-exercise-solutions5"><span class="std std-ref">Check your solution</span></a></p>
</li>
<li><p>Within the form fields in <code class="docutils literal notranslate"><span class="pre">edit.html</span></code>,</p>
<ol class="arabic simple">
<li><p>Get the name and description from the event that was passed in via the <code class="docutils literal notranslate"><span class="pre">model</span></code> and
set them as the values of the form fields.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">th:action=&quot;&#64;{/events/edit}&quot;</span></code> to the <code class="docutils literal notranslate"><span class="pre">form</span></code> tag.</p></li>
</ol>
</li>
<li><p>Add another input to hold the id of the event being edited. This
should be hidden from the user:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">th:value</span><span class="o">=</span><span class="s">&quot;${event.id}&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;eventId&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</div>
</li>
<li><p>Back in the <code class="docutils literal notranslate"><span class="pre">displayEditForm</span></code> handler, add a title to <code class="docutils literal notranslate"><span class="pre">model</span></code> that reads “Edit Event
NAME (id=ID)” where NAME and ID are replaced by the values for the
given event.</p></li>
<li><p>In <code class="docutils literal notranslate"><span class="pre">processEditForm</span></code>,</p>
<ol class="arabic simple">
<li><p>Query <code class="docutils literal notranslate"><span class="pre">EventData</span></code> for the event being edited with the given id parameter.</p></li>
<li><p>Update the name and description of the event with the appropriate model setter methods.</p></li>
<li><p>Redirect the user to <code class="docutils literal notranslate"><span class="pre">/events</span></code> (the event listing page).</p></li>
</ol>
<p><a class="reference internal" href="../../appendices/exercise-solutions/spring-model-classes.html#model-classes-exercise-solutions9"><span class="std std-ref">Check your solution</span></a></p>
</li>
<li><p>To access event editing, the user will need an edit option in the list of event data.</p>
<ol class="arabic">
<li><p>In <code class="docutils literal notranslate"><span class="pre">resources/templates/events/index.html</span></code>, add a link in a new table column to edit the
event:</p>
<div class="highlight-html notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">a</span> <span class="na">th:href</span><span class="o">=</span><span class="s">&quot;@{/events/edit/{id}(id=${event.id})}&quot;</span><span class="p">&gt;</span>Edit<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div>
</li>
</ol>
</li>
</ol>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="model-binding.html"><span aria-hidden="true">&larr;</span> <span class="section-number">14.4. </span>Model-Binding</a></li>
        
        
        <li class="next"><a href="studio.html"><span class="section-number">14.6. </span>Studio: Spa User Signup <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../../_sources/chapters/spring-model-classes/exercises.rst.txt"
     rel="nofollow">Page Source</a>
</div>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>