<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>10.1. Simple Controllers &#8212; Java Web Development  documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="10.2. Controllers with Parameters" href="controllers-parameters.html" />
    <link rel="prev" title="10. Controllers and Routing" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>

  </head><body class="body-bc">

<div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
        </a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html"><span class="section-number">10. </span>Controllers and Routing</a></li>
    <li class="active"><span class="section-number">10.1. </span>Simple Controllers</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content " role="main">

    
  <div class="section" id="simple-controllers">
<h1><span class="section-number">10.1. </span>Simple Controllers<a class="headerlink" href="#simple-controllers" title="Permalink to this headline">¶</a></h1>
<p>The first of the MVC elements we’ll work on implementing are the controllers. Recall that controllers
are like the traffic cops of our application. They handle the requests made from users interacting with the
application’s view and update model data accordingly. Conversely, changes to model data are sent to the view
via controller methods.</p>
<div class="figure align-default" id="id1">
<a class="reference internal image-reference" href="../../_images/mvcOverviewDetail.png"><img alt="MVC Flow" src="../../_images/mvcOverviewDetail.png" style="width: 900.0px; height: 600.0px;" /></a>
<p class="caption"><span class="caption-text">MVC flow</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="controllers-and-static-responses-video">
<h2><span class="section-number">10.1.1. </span>Controllers and Static Responses - Video<a class="headerlink" href="#controllers-and-static-responses-video" title="Permalink to this headline">¶</a></h2>

<div style="text-align:center;"><iframe width="800" height="450" src="https://www.youtube.com/embed/attSxLlXkz8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
<p></p>
<div class="admonition-note admonition">
<p class="admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p>The starter code for this video is found in the <a class="reference external" href="https://github.com/LaunchCodeEducation/hello-spring-demo/tree/starter" target="_blank">starter branch<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>
of the <code class="docutils literal notranslate"><span class="pre">hello-spring-demo</span></code> repo. The final code presented in this video is found on the <a class="reference external" href="https://github.com/LaunchCodeEducation/hello-spring-demo/tree/static-responses" target="_blank">static-responses branch<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>.
Code along to the videos on your own <code class="docutils literal notranslate"><span class="pre">hello-spring</span></code> project.</p>
</div>
</div>
<div class="section" id="controllers-and-static-responses-intro">
<h2><span class="section-number">10.1.2. </span>Controllers and Static Responses - Intro<a class="headerlink" href="#controllers-and-static-responses-intro" title="Permalink to this headline">¶</a></h2>
<div class="section" id="controller">
<span id="index-0"></span><h3><span class="section-number">10.1.2.1. </span><code class="docutils literal notranslate"><span class="pre">&#64;Controller</span></code><a class="headerlink" href="#controller" title="Permalink to this headline">¶</a></h3>
<p>In the Spring Boot context, we’ll organize controller code into a controller package. Remember when we
mentioned that the framework works by convention over configuration? This is what we mean. It’s not required
for a controller to be in a controller package, but it’s generally a good idea.</p>
<p>To designate a given class as a controller within the Spring framework,
we use the annotation <code class="docutils literal notranslate"><span class="pre">&#64;Controller</span></code>. Recall that <a class="reference internal" href="../unit-testing/junit.html#java-annotations"><span class="std std-ref">Java Annotations</span></a>
are like metadata about your code. They help the framework do
its work by adding context to your code.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloSpringController</span> <span class="p">{</span>

   <span class="c1">// class code here ...</span>

<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="controllers-map-to-requests">
<span id="index-1"></span><h3><span class="section-number">10.1.2.2. </span>Controllers Map to Requests<a class="headerlink" href="#controllers-map-to-requests" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">&#64;GetMapping</span></code> is another critical annotation used on controller methods.
<code class="docutils literal notranslate"><span class="pre">&#64;GetMapping</span></code> designates a controller action with a URL path. For every <code class="docutils literal notranslate"><span class="pre">GET</span></code> request made to the provided
path, the controller method will be called. The path is defined with
<code class="docutils literal notranslate"><span class="pre">&#64;GetMapping(&quot;pathname&quot;)</span></code>. If the pathname value is null, then the path used is the
index path, or <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloSpringController</span> <span class="p">{</span>

   <span class="c1">// responds to get requests at &quot;/hello&quot;</span>
   <span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">)</span>
   <span class="kd">public</span> <span class="n">String</span> <span class="nf">hello</span><span class="p">()</span> <span class="p">{</span>
      <span class="c1">// method code here ...</span>
   <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>For every controller method that you want to respond to a request, you will want to use a mapping annotation.
Not surprisingly, though, <code class="docutils literal notranslate"><span class="pre">&#64;GetMapping</span></code> only handles <code class="docutils literal notranslate"><span class="pre">GET</span></code> requests. If you want to write a controller
method that takes care of a <code class="docutils literal notranslate"><span class="pre">POST</span></code> request, you’ll want to use <code class="docutils literal notranslate"><span class="pre">&#64;PostMapping</span></code>. Of course, there are
other annotations for the other request methods, but these are the two we will use in this class.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloSpringController</span> <span class="p">{</span>

   <span class="c1">// responds to post requests at &quot;/goodbye&quot;</span>
   <span class="nd">@PostMapping</span><span class="p">(</span><span class="s">&quot;goodbye&quot;</span><span class="p">)</span>
   <span class="kd">public</span> <span class="n">String</span> <span class="nf">goodbye</span><span class="p">()</span> <span class="p">{</span>
      <span class="c1">// method code here ...</span>
   <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>If we want to write a controller method that will be used for both <code class="docutils literal notranslate"><span class="pre">GET</span></code> and <code class="docutils literal notranslate"><span class="pre">POST</span></code> at the same path, we
can label the method with <code class="docutils literal notranslate"><span class="pre">&#64;RequestMapping</span></code>. <code class="docutils literal notranslate"><span class="pre">&#64;RequestMapping</span></code> can handle more than one method as such:</p>
<div class="highlight-java notranslate" id="request-method-example"><div class="highlight"><pre><span></span><span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloSpringController</span> <span class="p">{</span>

   <span class="c1">// responds to get and post requests at &quot;/hellogoodbye&quot;</span>
   <span class="nd">@RequestMapping</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s">&quot;hellogoodbye&quot;</span><span class="p">,</span> <span class="n">method</span> <span class="o">=</span> <span class="p">{</span><span class="n">RequestMethod</span><span class="p">.</span><span class="na">GET</span><span class="p">,</span> <span class="n">RequestMethod</span><span class="p">.</span><span class="na">POST</span><span class="p">})</span>
   <span class="kd">public</span> <span class="n">String</span> <span class="nf">hellogoodbye</span><span class="p">()</span> <span class="p">{</span>
      <span class="c1">// method code here ...</span>
   <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>The default method of <code class="docutils literal notranslate"><span class="pre">&#64;RequestMapping</span></code> is <code class="docutils literal notranslate"><span class="pre">GET</span></code>. Another added capability of <code class="docutils literal notranslate"><span class="pre">&#64;RequestMapping</span></code> is that
it can be applied to a whole class, not just a single method. When applied to a whole class, <code class="docutils literal notranslate"><span class="pre">&#64;RequestMapping</span></code>
essentially designates a base path that all methods in the class start with.</p>
</div>
<div class="section" id="responsebody">
<span id="index-2"></span><h3><span class="section-number">10.1.2.3. </span><code class="docutils literal notranslate"><span class="pre">&#64;ResponseBody</span></code><a class="headerlink" href="#responsebody" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">&#64;ResponseBody</span></code> is yet another annotation used in the Spring controller context to return plain text
from a controller method. This annotation we will only need to use for a short while, before we start
to work with templates. Spring Boot’s default action when responding to a controller method is to return
a template. Since we aren’t doing that yet however, we need to tell the framework to return plain text by
adding the <code class="docutils literal notranslate"><span class="pre">&#64;ResponseBody</span></code> annotation.</p>
<p>Let’s put it all together:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloSpringController</span> <span class="p">{</span>

   <span class="c1">// responds to get requests at &quot;/hello&quot;</span>
   <span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">)</span>
   <span class="nd">@ResponseBody</span>
   <span class="kd">public</span> <span class="n">String</span> <span class="nf">hello</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="s">&quot;Hello, Spring!&quot;</span><span class="p">;</span>
   <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="check-your-understanding">
<h2><span class="section-number">10.1.3. </span>Check Your Understanding<a class="headerlink" href="#check-your-understanding" title="Permalink to this headline">¶</a></h2>
<div class="admonition-question admonition">
<p class="admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>True/False: The <code class="docutils literal notranslate"><span class="pre">&#64;Controller</span></code> annotation goes above a method to classify
it as a controller method.</p>
<ol class="loweralpha simple">
<li><p>True</p></li>
<li><p>False</p></li>
</ol>
</div>
<div class="admonition-question admonition">
<p class="admonition-title"><i class="fas fa-question" aria-hidden="true"></i>Question</p>
<p>Which of the following is true about controllers?</p>
<ol class="loweralpha simple">
<li><p>Controllers handle the data storage of an MVC app.</p></li>
<li><p>Controllers manage what the user of an MVC application sees.</p></li>
<li><p>Controllers relay the messages between data and views in an MVC application.</p></li>
<li><p>Controllers determine what information can be submitted in an online form.</p></li>
</ol>
</div>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="index.html"><span aria-hidden="true">&larr;</span> <span class="section-number">10. </span>Controllers and Routing</a></li>
        
        
        <li class="next"><a href="controllers-parameters.html"><span class="section-number">10.2. </span>Controllers with Parameters <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../../_sources/chapters/spring-controllers-and-routes/controllers-simple.rst.txt"
     rel="nofollow">Page Source</a>
</div>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>