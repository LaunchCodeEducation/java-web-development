<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>17.4. Exercises: OMG the ORM! &#8212; Java Web Development  documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fa/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/launchcode.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/site.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="17.5. Studio: Creating an AbstractEntity" href="studio.html" />
    <link rel="prev" title="17.3. Repositories" href="repositories.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>

  </head><body class="body-bc">

<div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/lc-ed-logo.png" alt="LaunchCode logo"></span>
        </a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
    <label for="q" class="searchLabel">Search</label>
    <input type="text" name="q" class="form-control" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<ol class="breadcrumb container">
    <li><a href="../../index.html">Contents</a></li>
    <li><a href="index.html"><span class="section-number">17. </span>Introduction to Object-Relational Mapping</a></li>
    <li class="active"><span class="section-number">17.4. </span>Exercises: OMG the ORM!</li>
</ol>



<div class="container">
  <div class="row">
    <div class="col-md-10 col-md-offset-1 content " role="main">

    
  <div class="section" id="exercises-omg-the-orm">
<span id="orm1-exercises"></span><h1><span class="section-number">17.4. </span>Exercises: OMG the ORM!<a class="headerlink" href="#exercises-omg-the-orm" title="Permalink to this headline">¶</a></h1>
<p>For the exercises, we are going to continue building on our <code class="docutils literal notranslate"><span class="pre">coding-events</span></code> application.
The exercise instructions assume that your code resembles the
<a class="reference external" href="https://github.com/LaunchCodeEducation/coding-events/tree/persistent-controller" target="_blank">persistent-controller<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> branch of <code class="docutils literal notranslate"><span class="pre">coding-events-demo</span></code>.
Create a new branch off of your own <code class="docutils literal notranslate"><span class="pre">persistent-controller</span></code> code to get started on the exercises.</p>
<div class="admonition-note admonition">
<p class="admonition-title"><i class="fas fa-sticky-note" aria-hidden="true"></i>Note</p>
<p>You will be making one entity class, one repository, and one controller. If you are not sure what these classes and interface should look like, refer back to the sections on <a class="reference external" href="https://www.youtube.com/watch?v=YAISqYMOIAw" target="_blank">persistent models<i class="fas fa-external-link-alt" aria-hidden="true"></i></a> and <a class="reference external" href="https://www.youtube.com/watch?v=0eug2HI7rbo&amp;t=128s" target="_blank">controllers and repositories<i class="fas fa-external-link-alt" aria-hidden="true"></i></a>.</p>
</div>
<div class="section" id="the-eventcategory-class">
<h2><span class="section-number">17.4.1. </span>The <code class="docutils literal notranslate"><span class="pre">EventCategory</span></code> Class<a class="headerlink" href="#the-eventcategory-class" title="Permalink to this headline">¶</a></h2>
<p>First, create a new class called <code class="docutils literal notranslate"><span class="pre">EventCategory</span></code> in the <code class="docutils literal notranslate"><span class="pre">models</span></code> directory.</p>
<p><code class="docutils literal notranslate"><span class="pre">EventCategory</span></code> needs to have the following:</p>
<ol class="arabic simple">
<li><p>An <code class="docutils literal notranslate"><span class="pre">id</span></code> field of type <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">name</span></code> field of type <code class="docutils literal notranslate"><span class="pre">String</span></code>.</p></li>
<li><p>A constructor.</p></li>
<li><p>The appropriate getters and setters.</p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">EventCategory</span></code> represents data that will be stored in our database, so you need to use the <code class="docutils literal notranslate"><span class="pre">&#64;Entity</span></code> annotation!</p>
<p><a class="reference internal" href="../../appendices/exercise-solutions/orm-part1.html#orm1-exercise-solutions-class"><span class="std std-ref">Check your solution</span></a></p>
</div>
<div class="section" id="the-eventcategoryrepository-interface">
<h2><span class="section-number">17.4.2. </span>The <code class="docutils literal notranslate"><span class="pre">EventCategoryRepository</span></code> Interface<a class="headerlink" href="#the-eventcategoryrepository-interface" title="Permalink to this headline">¶</a></h2>
<p>Once you have created <code class="docutils literal notranslate"><span class="pre">EventCategory</span></code>, you need to create the <code class="docutils literal notranslate"><span class="pre">EventCategoryRepository</span></code> in the <code class="docutils literal notranslate"><span class="pre">data</span></code> folder.
<code class="docutils literal notranslate"><span class="pre">EventCategoryRepository</span></code> will extend the <code class="docutils literal notranslate"><span class="pre">CrudRepository</span></code> interface.</p>
</div>
<div class="section" id="the-eventcategorycontroller-class">
<h2><span class="section-number">17.4.3. </span>The <code class="docutils literal notranslate"><span class="pre">EventCategoryController</span></code> Class<a class="headerlink" href="#the-eventcategorycontroller-class" title="Permalink to this headline">¶</a></h2>
<p>Create <code class="docutils literal notranslate"><span class="pre">EventCategoryController</span></code> in the <code class="docutils literal notranslate"><span class="pre">controllers</span></code> directory.
You can use the <code class="docutils literal notranslate"><span class="pre">&#64;RequestMapping</span></code> annotation to map to <code class="docutils literal notranslate"><span class="pre">&quot;eventCategories&quot;</span></code>.
To get our handlers working, we also need a variable of type <code class="docutils literal notranslate"><span class="pre">EventCategoryRepository</span></code>.</p>
<p>We will be creating 3 handlers in our controller:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">displayAllEvents</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">renderCreateEventCategoryForm</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">processCreateEventCategoryForm</span></code></p></li>
</ol>
<div class="section" id="displayallevents">
<h3><span class="section-number">17.4.3.1. </span><code class="docutils literal notranslate"><span class="pre">displayAllEvents</span></code><a class="headerlink" href="#displayallevents" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">displayAllEvents</span></code> needs to do the following:</p>
<ol class="arabic simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">&#64;GetMapping</span></code> and return <code class="docutils literal notranslate"><span class="pre">&quot;eventCategories/index&quot;</span></code>.</p></li>
<li><p>Add an attribute for the <code class="docutils literal notranslate"><span class="pre">title</span></code> that uses <code class="docutils literal notranslate"><span class="pre">&quot;All</span> <span class="pre">Categories&quot;</span></code>.</p></li>
<li><p>Add an attribute for the <code class="docutils literal notranslate"><span class="pre">categories</span></code> that uses all of the values in your <code class="docutils literal notranslate"><span class="pre">EventCategoryRepository</span></code> variable.</p></li>
</ol>
<p><a class="reference internal" href="../../appendices/exercise-solutions/orm-part1.html#orm1-exercise-solutions-methods1"><span class="std std-ref">Check your solution</span></a></p>
</div>
<div class="section" id="rendercreateeventcategoryform">
<h3><span class="section-number">17.4.3.2. </span><code class="docutils literal notranslate"><span class="pre">renderCreateEventCategoryForm</span></code><a class="headerlink" href="#rendercreateeventcategoryform" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">renderCreateEventCategoryForm</span></code> needs to do the following:</p>
<ol class="arabic simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">&#64;GetMapping</span></code> and return <code class="docutils literal notranslate"><span class="pre">&quot;eventCategories/create&quot;</span></code>.</p></li>
<li><p>Add an attribute for the <code class="docutils literal notranslate"><span class="pre">title</span></code> and assign it <code class="docutils literal notranslate"><span class="pre">&quot;Create</span> <span class="pre">Category&quot;</span></code>.</p></li>
<li><p>Add an attribute for a new instance of <code class="docutils literal notranslate"><span class="pre">EventCategory</span></code>.</p></li>
</ol>
</div>
<div class="section" id="processcreateeventcategoryform">
<h3><span class="section-number">17.4.3.3. </span><code class="docutils literal notranslate"><span class="pre">processCreateEventCategoryForm</span></code><a class="headerlink" href="#processcreateeventcategoryform" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">processCreateEventCategoryForm</span></code> needs to do the following:</p>
<ol class="arabic simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">&#64;PostMapping</span></code>.</p></li>
<li><p>Use error validation and the <code class="docutils literal notranslate"><span class="pre">Errors</span></code> object appropriately. If you want to review how to use the <code class="docutils literal notranslate"><span class="pre">Errors</span></code> object, check out the section on <a class="reference internal" href="../spring-model-validation/validation-controller.html#validating-models"><span class="std std-ref">error validation</span></a>.</p></li>
<li><p>Add an attribute for the <code class="docutils literal notranslate"><span class="pre">title</span></code> and assign it <code class="docutils literal notranslate"><span class="pre">&quot;Create</span> <span class="pre">Category&quot;</span></code>.</p></li>
<li><p>Add an attribute for a new instance of <code class="docutils literal notranslate"><span class="pre">EventCategory</span></code>.</p></li>
<li><p>Either return <code class="docutils literal notranslate"><span class="pre">&quot;eventCategories/create&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;redirect:&quot;</span></code>.</p></li>
</ol>
<p><a class="reference internal" href="../../appendices/exercise-solutions/orm-part1.html#orm1-exercise-solutions-methods3"><span class="std std-ref">Check your solution</span></a></p>
</div>
</div>
<div class="section" id="thymeleaf-templates">
<h2><span class="section-number">17.4.4. </span>Thymeleaf Templates<a class="headerlink" href="#thymeleaf-templates" title="Permalink to this headline">¶</a></h2>
<p>To finish the exercises, we need to make two new templates.</p>
<ol class="arabic">
<li><p><code class="docutils literal notranslate"><span class="pre">eventCategories/index</span></code>, which will contain a table of the event categories.</p>
<p><a class="reference internal" href="../../appendices/exercise-solutions/orm-part1.html#orm1-exercise-solutions-templates"><span class="std std-ref">Check your solution</span></a></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">eventCategories/create</span></code>, which will contain a form for adding new event categories.</p></li>
</ol>
</div>
<div class="section" id="the-final-application">
<h2><span class="section-number">17.4.5. </span>The Final Application<a class="headerlink" href="#the-final-application" title="Permalink to this headline">¶</a></h2>
<p>Once you are done, launch your app and head to <code class="docutils literal notranslate"><span class="pre">localhost:8080/eventCategories</span></code>!
If you added categories already, you will see any categories already stored in the database.
In this case, we added “Meetup” as a category the first time we ran our app to test it.</p>
<div class="figure align-default">
<img alt="Screenshot showing the categories table with only &quot;Meetup&quot; in it." src="../../_images/initialcategories.png" />
</div>
<p>If you click on “Create Category”, you should be directed to <code class="docutils literal notranslate"><span class="pre">localhost:8080/eventCategories/create</span></code>.
We decided to add “Networking” as a category and filled out the form.</p>
<div class="figure align-default">
<img alt="Screenshot showing the category form filled out with the word &quot;Networking&quot;." src="../../_images/categoryform.png" />
</div>
<p>Once you hit submit, you are redirected back to <code class="docutils literal notranslate"><span class="pre">localhost:8080/eventCategories</span></code>, and your table now contains the newest event category!</p>
<div class="figure align-default">
<img alt="Screenshot showing the categories table with &quot;Meetup&quot; and &quot;Networking&quot; in it." src="../../_images/finalcategories.png" />
</div>
</div>
</div>



    
    <nav aria-label="Next and Previous Pages">
      <ul class="pager">
        
        <li class="previous"><a href="repositories.html"><span aria-hidden="true">&larr;</span> <span class="section-number">17.3. </span>Repositories</a></li>
        
        
        <li class="next"><a href="studio.html"><span class="section-number">17.5. </span>Studio: Creating an <code class="docutils literal notranslate"><span class="pre">AbstractEntity</span></code> <span aria-hidden="true">&rarr;</span></a></li>
        
      </ul>
    </nav>
    
    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../../_sources/chapters/orm-part1/exercises.rst.txt"
     rel="nofollow">Page Source</a>
</div>
      
    </p>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>